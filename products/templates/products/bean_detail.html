{% extends "base.html" %} {% load static %}
{% block content %}
<div class="container-fluid">
  <div class="row">
    <div class="col text-center m-3">
      <h2 class="display-3">{{ bean.country}}</h2>
    </div>
  </div>
  <div class="row mx-5">
    <div class="col-sm-12 d-flex justify-content-center">
      <a href="{{ bean.image.url }}" target="_blank">
        <img
          class="card-img-top img-fluid rounded mx-auto d-block img-thumbnail bean_image"
          src="{{ bean.image.url }}"
          alt="{{ bean.country }}"
        />
      </a>
    </div>
  </div>
</div>
<div class="container mt-3 ">
  <div class="row">
    <div class="col-sm-12 text-center">
      <p>{{ bean.description }}</p>
      <p class="text-muted">Strength: {{ bean.strength }}/5</p>
  </div>
</div>
<div class="container d-flex justify-content-center ">
	<form class="form" action="{% url 'add_to_shopping_bag' bean.id %}" method="POST">
		{% csrf_token %}
		<div class="row w-50 justify-content-center">
        {% with bean.sizes as s %}
        {% if s %}
			<div class="col-12">
				<p><strong>Size:</strong></p>
			<select class="form-control" name="bag_size" id="id_bean_size">
                <option value="s" id="small_bag">Small</option>
                <option value="l" id="large_bag">Large</option>
            </select>
            </div>
        {% endif %}
            <div class="row">
			<div class="col-12">
				<p><strong>Quantity:</strong></p>
				<div class="form-group">
					<div class="input-group">
						<input class="form-control qty_input" type="number" name="quantity" value="0" min="0" max="8">					           
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-12">
					<button type="submit" class="btn btn-primary ">Add to Basket</button>
				</div>
			</div>
			<div class="row">
				<div class="col-12">
					<a href="{% url 'beans' %}" class="btn btn-primary">Go back for more beans!</a>
					<input type="hidden" name="redirect_url" value="{{ request.path }}">
			    {% endwith %}
				</div>
				</form>
				</div>
				{% endblock %}
			